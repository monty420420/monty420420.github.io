---
layout: post
title:  "스크립트를 포함할때 어떻게 포함하는것이 효율적인가?"
---
1. head안의 script

![스크린샷(10)](https://user-images.githubusercontent.com/72345833/134871207-9281923b-8ede-439d-963e-fd14287fdadb.png)

설명: 파싱하다가 스크립트를 만나면 멈추고 스크립트 다운후 다시 파싱

단점: js파일이 크면 사용자가 웹사이트를 보는데까지 많은 시간이 소요

2. body안의 마지막에 script

![스크린샷(12)](https://user-images.githubusercontent.com/72345833/134872175-da1fc014-3eb8-47e2-8311-e9b7fb0b93c2.png)

설명 : 브라우저가 파싱하다 페이지 준비 된이후에 스크립트 다운

단점: 사용자가 기본적인 html 콘텐츠를 빠르게 볼수있지만 javascript에 상당히 의존적이면 
      사용자가 정상적인 페이지를 보기전까지 자바스크립트를 받아오는시간과 실행하는시간을 기다려야 해서 많은 시간이 소요됨

3. head안의 asyn

![스크린샷(14)](https://user-images.githubusercontent.com/72345833/134873152-5348167e-c363-4ca9-8866-4aa8d48e4d64.png)

설명 : 파싱하다가 스크립트를 만나면 파싱과 병렬로 함께 스크립트 다운한다 다운완료시 파싱을멈추고 즉시 스크립트 실행후 다시 파싱

단점: 병렬로 스크립트다운시간을 절약할수 있지만 파싱하는동안 언제든지 스크립트 다운으로 파싱이 멈출 수 있기때문에 사용자가 이용에 
      오래걸릴 수 있음
      중간에 스크립트가 먼저 실행될 경우 html을 다읽지도 않았는데 스크립트가 DOM을 참조하고 있을시 에러발생 할 수 있음
      DOM을 조작하지 않고 스크립트 의존성이 없는 코드에만 사용
 
4. head안의 defer

![스크린샷(16)](https://user-images.githubusercontent.com/72345833/134874294-374d8db3-7e57-4849-b1d1-11e3ff192b62.png)
 
 설명: 브라우저가 defer 스크립트를 만났을때 스크립트를 다운로드 하지만 파싱을 멈추지않고 끝까지 수행하고 </html>태그에서 스크립트 실행
       DOM을 조작하고 html 의존성이 있을 때 html을 모두 파싱한 후 실행되어야 할때 사용
       
- asyn과 defer 차이점
 asyn은 다운된 순으로 실행하고 defer은 정의된 순서대로 실행
 따라서 스크립트에 의존된 스크립트가 순서대로사용되어야 할때는 defer를 사용하자
  
